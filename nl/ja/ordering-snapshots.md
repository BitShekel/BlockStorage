---

copyright:
  years: 2014, 2018
lastupdated: "2018-03-07"

---
{:new_window: target="_blank"}
{:shortdesc: .shortdesc}

# スナップショットの注文

ストレージ・ボリュームのスナップショットを作成するには、自動作成と手動作成のいずれでも、作成したスナップショットを保持するためのスペースを購入する必要があります。容量は、(ボリュームを初めて購入する時点か、またはその後以下のステップを使用して) 最大でご使用のストレージ・ボリューム量まで購入できます。

1. [{{site.data.keyword.slportal}}](https://control.softlayer.com/){:new_window} の**「ストレージ」**、**「{{site.data.keyword.blockstorageshort}}」**タブを使用してストレージ LUN にアクセスします。
2. 「スナップショット」フレームにある**「スナップショット・スペースの追加 (Add Snapshot Space)」**リンクをクリックします。
3. 必要なスペースの量を、該当する量の隣にあるラジオ・ボタンをクリックして選択します。
4. **「続行」**をクリックします。
5. お持ちのプロモーション・コードを入力して、**「再計算」**をクリックします。「この注文の料金 (Charges for this order)」と「注文確認 (Order Review)」には、デフォルト値が入ります。
6. **「マスター・サービス契約を読み... (I have read the Master Service Agreement…)」**チェック・ボックスをクリックして、**「注文する (Place Order)」**をクリックします。スナップショット・スペースは数分後にプロビジョンされます。

## 注文すべきスナップショット・スペース量の決定方法

残念ながら、あるのはベスト・プラクティスというより、用途に応じた最善の提案です。一般的には、スナップショット・スペースは、以下に示す 2 つの主要な情報に基づいてスナップショットが消費します。
- アクティブなファイル・システムの変更量、および 
- スナップショットの予定保存期間。  

基本的には、必要なスペースの量は、**(変更率)** x **(保存時間数/保存日数/保存週数/保存月数)** で計算します。  
**注**: 最初のスナップショットは、アクティブなファイル・システムのブロックを示すメタデータ (ポインター) の単なるコピーなので、消費するスペースの量はごくわずかです。 

変更がそれほど多くなく (例えば、VM データ・ストア)、スナップショットの保存スケジュールも比較的長くないボリュームに比べ、大量のデータ変更 (例えば、変更率の高いデータベース) があり、スナップショットの保存期間が長いボリュームでは、スナップショットに必要なスペースは大きくなります。 

実際のデータが 500 GB のボリュームを例にとれば、1 時間ごとに取ったスナップショットが 12 個あり、各スナップショット間で変更されたのが 1 % だと分かれば、結局スナップショット用には、(変更率 5 G) x (1 時間ごとのスナップショット 12 個) = 60 GB となります。

逆に、この 500 GB の実データで、1 時間ごとに取ったスナップショットが 12 個あり、1 時間に 10% が変更されると分かれば、(変更率 50 GB) x (1 時間ごとのスナップショット 12 個) = 600 GB となります。

そのため、必要なスナップショット・スペースの量を決定する際は、変更率を慎重に検討してください。変更率は、必要なスナップショット・スペースの量に多大な影響を与えます。ボリュームのサイズは、おそらく変更量の増加に関わることになるでしょうが、一方、500 G のボリュームで変更が 5 G の場合と 10 TB のボリュームで変更が 5G の場合では、スナップショット・スペースの使用量は結局同じになります。

さらに、ほとんどのワークロードでは、ボリュームが大きいほど、スナップショット用に最初に確保する必要のあるスペースが小さくなります。これは主に、このプラットフォームが持っている基本的なデータ効率のおかげですが、この環境でスナップショットがどう働くかという本質にも起因しています。



